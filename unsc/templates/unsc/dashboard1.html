{% extends 'unsc/main.html' %}

{%block content%}
<br>
<div class="col-sm-8 col-12 container-fluid">
  <div class="container-fluid">
  <div class="col-md-12 col-12 container-fluid">
  <div class="card-deck mb-4 text-center">

    <div class="col-md-4 col-12">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h2 class="card-title">No of Companies</h2>
          <p class="card-text" style="font-size:80px">{{no_comp}}</p>
          <a href="#" class="btn btn-primary">Details</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-12">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h2 class="card-title">No of Sanctions</h2>
          <p class="card-text" style="font-size:80px">{{no_sanctions}}</p>
          <a href="#" class="btn btn-primary">Details</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 col-12">
      <div class="card mb-4 shadow-sm">
        <div class="card-body">
          <h2 class="card-title">% Compliance</h2>
          <p class="card-text" style="font-size:80px">{{comp_per}} %</p>
          <a href="#" class="btn btn-primary">Details</a>
        </div>
      </div>
    </div>
  </div>
  </div>
  </div>
  

    <div class="row">

      <div class="col-md-6 col-12">
        <div class="card" style="margin-top:30px">
          <div class="card-body">
            <canvas id="stats1" width="300" height="300"></canvas>
            <script>
                    var ctx = document.getElementById('stats1').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'bar',
                        data: {
                            labels: [{% for key, value in neg_data.items %}'{{key}}',{% endfor %}],
                            datasets: [{
                                label: 'Negative Matches',
                                data: [{% for key, value in neg_data.items %}{{value}},{% endfor %}],
                                backgroundColor:
                                    'rgba(255, 99, 132, 0.8)',
                                borderWidth: 1
                            },
                            {
                                label: 'Positive Matches',
                                data: [{% for key, value in pos_data.items %}{{value}},{% endfor %}],
                                backgroundColor:
                                    'rgba(54, 162, 235, 0.8)',
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
            </script>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-12">
        <div class="card" style="margin-top:30px">
          <div class="card-body">
            <canvas id="stats2" width="300" height="300"></canvas>
            <script>
                    var ctx = document.getElementById('stats2').getContext('2d');
                    var myChart = new Chart(ctx, {
                        type: 'doughnut',
                        data: {
                            labels: [{% for key, value in exist_data.items %}'{{key}}',{% endfor %}],
                            datasets: [{
                                label: 'Compliance Percentage',
                                data: [{% for key, value in exist_data.items %}{{value}},{% endfor %}],
                                backgroundColor: [
                                    'rgba(255, 99, 132, 0.8)',
                                    'rgba(54, 162, 235, 0.8)',
                                    'rgba(255, 206, 86, 0.2)',
                                    'rgba(75, 192, 192, 0.2)',
                                    'rgba(153, 102, 255, 0.2)',
                                    'rgba(255, 159, 64, 0.2)'
                                ],
                                borderColor: [
                                    'rgba(255, 99, 132, 1)',
                                    'rgba(54, 162, 235, 1)',
                                    'rgba(255, 206, 86, 1)',
                                    'rgba(75, 192, 192, 1)',
                                    'rgba(153, 102, 255, 1)',
                                    'rgba(255, 159, 64, 1)'
                                ],
                                borderWidth: 1
                            }]
                        },
                        options: {
                            scales: {
                                y: {
                                    beginAtZero: true
                                }
                            }
                        }
                    });
            </script>
          </div>
        </div>
      </div>

    </div>

      <div class="row">

      <div class="col-md-6 col-12">
        <div class="card" style="margin-top:30px">
          <div class="card-body">
            <canvas id="stats3" width="300" height="300"></canvas>
          </div>
        </div>
      </div>
      <div class="col-md-6 col-12">
        <div class="card" style="margin-top:30px">
          <div class="card-body">
            <canvas id="stats4" width="300" height="300"></canvas>
          </div>
        </div>
      </div>
      
    </div>
</div>

{%endblock%}
